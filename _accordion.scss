////////////////////////////////////////
////////////////////////////////////////
////////////////////////////////////////
///////  ACCCORDION on the public policy page
/////// This is code based; JS is in the component
////////////////////////////////////////
////////////////////////////////////////


.accordion-widget{

    @include desktop {
    	@include responsive-padding;
    	padding-right:0px !important;
    }
	
	.row{
		background: #E9ECF7;
    	border-radius: 24px;
    	@include responsive-padding;

    	margin: 20px;

    	@include desktop {
    		margin: 0px;
    		border-radius: 24px 0 0 24px;
    	}
	}

    h4{
		@include h4($primary-blue);

	}

	.acc{
		display: grid;
   	 	grid-template-columns: 1fr;
   	 	gap: 20px;
   	 	position:relative;
   	 	margin-top: 50px;

   	 	@include desktop {
   	 		gap: 100px;
   	 		grid-template-columns: 1fr 1fr;
   	 	}

   	 	&::after {
		  content: "";
		  position: absolute;
		  bottom: -10px;
		  left: 0;
		  width: 50%;
		  height: 50px;
		  background: linear-gradient(to bottom, #e9ecf700 0%, $purple 50%, $purple 100%);
		  pointer-events: none;
		}
	}

	.accWrap {
		order:2;
		margin: 1em auto;	
		margin-left: 0;
		overflow-y: scroll;  /* always shows vertical scrollbar */
		max-height: none;
		height: auto;
		position: relative;
		scrollbar-width: thin;
		scrollbar-color: #B9C3E6 #B9C3E6;

		@include tablet {
			max-height: 500px;
			height: 500px;
		}

		@include desktop {
			order:0;
		}
	}

		.accWrap::-webkit-scrollbar {
		  width: 10px;
		  display: block;
		}

		.accWrap::-webkit-scrollbar-track {
		  background: #B9C3E6;
		}

		.accWrap::-webkit-scrollbar-thumb {
		  background-color: #B9C3E6;
		}


	.accBox {	
	  	width:100%;	
		float: left;	
		padding:20px 0;
		border-top: 1px solid $gray;

		&:first-of-type{border-top: 0px solid $gray;}

		h5{
			@include h5($navy-blue);
			position: relative;
			display: flex;
    		align-items: center;
   		 	justify-content: space-between;
		}	

		h5::after {
			position: relative;
		 	content: url("data:image/svg+xml,%3Csvg%20width%3D%2212%22%20height%3D%228%22%20viewBox%3D%220%200%2012%208%22%20fill%3D%22none%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d%3D%22M0%206L6%200L12%206L10.6%207.4L6%202.8L1.4%207.4L0%206Z%22%20fill%3D%22black%22/%3E%3C/svg%3E");
		 	// display: inline-block;
		  	width: auto;
		  	height: auto;
		  	// right:0px;
		  	transform: rotate(180deg);
		  	transition:.3s;
		  	transform-origin: center center; /* Default */

		}

		&.active{
			h5::after {
			  	transform: rotate(0deg);
			  	transition:.3s;
			}
		}

	}

	.accBox:hover {	
		color:#fff;
	  	cursor:pointer;
	  }	

	.accContent {	
		width: 100%;
		float: left;
		padding-bottom:20px;

	  	p{
				@include p($dark-gray);
				margin-bottom: 10px;
			}
	}


	#accWrapImage, #accWrapImageOne, #accWrapImageTwo, #accWrapImageThree, #accWrapImageFour{
		background: black;
		border-radius: 24px;
		height:100%;
		width: 100%;
		aspect-ratio: 1/1;
		max-height: 500px;

		background-image: url("https://cdn.fedweb.org/fed-42/2/Image-%25289%2529.jpg");
		background-position: center;
		background-size:cover;
	}

}






.sticky-nav {
  // position: sticky;
  // top: 0;
  background: light;
  z-index: 50000;

  list-style: none;
	display: flex;
	gap: 0px;
	align-items: center;
	justify-content: center;
	margin-top: 40px;

	p a{ color: $medium-gray;}

	flex-direction: column;

	@include desktop{
		gap: 35px;
  	flex-direction: row;
  }
}

.sticky-nav.fixed {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  margin-top: 0px;
  height:150px;
  background: $light;

  li.nav-link:not(.active) p a{
  	font-size: 80%;
  }

  @include desktop{
 			height:85px;

 			li.nav-link:not(.active) p a{
		  	font-size: 100%;
		  }
   }
}


.sticky-nav a {
  text-decoration: none;
  padding: 10px 0;
  transition: color 0.3s ease;
}

.sticky-nav p a:hover {
  color: $medium-blue;
}

.sticky-nav li.nav-link.active a {
  color: $navy-blue;
  @include desktop{
  	border-bottom: 6px solid $navy-blue; 
  }
}



////// PUBLIC POLICY PAGE


#communal-infrastructure{
	.row-has-promo{
		margin-right: 30px 40px;

		@include tablet {
		    margin-right: 40px;
		}

		@include desktop {
		    margin-right: 120px;
		}

		border-radius: 0 24px 0 0;
    	overflow: hidden;
	}


	&.about-us-header .component-promo img {
		translate: -50% -30% !important;
	}
}

.communal-infrastructure {
	position:relative;
	z-index:3001;
	@include responsive-padding;

	.row{
		@include responsive-padding;
		padding-right: 0px !important;
	}

	.section-header-white{
		margin-top: -300px;
		color: $white !important;
		margin-left: 0px;
		margin-bottom: 30px;
	}

	ul.stats-wide{
		display: grid;
		grid-template-columns: 1fr;
		gap: 20px;
		list-style: none;

		@include desktop {
			gap: 30px;
			grid-template-columns: 1fr 1fr;
		}

		&.alt-padding{
			z-index: 3000;
			position: relative;

			li{
				background: $light;
				border-radius: 24px;
				padding: 25px;
				display: flex;
				flex-direction: column;
				gap: 15px;
			}
		}	
	}
}




////// LOADER FOR VIDEO LINKS

div.video-loader{

	div.video-list {
	  // list-style: none;
	  // padding: 0;
	  // display: grid;
	  // grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
	  // gap: 1rem;
	}
	div.video-list div.vid {
	  display: none; /* hide by default */
	}
	div.video-list div.vid.visible{
	  display: block; /* show visible ones */
	}
	button.load-more {
	  display: block;
	  border: none;
	  border-radius: 100%;
	  cursor: pointer;
	  margin: auto;
	  
	  margin-bottom: 50px;
    margin-top: 30px;
    
	  display: flex;
    flex-direction: column;
    align-items:center;
    gap: 10px;
    background: transparent;

    img{
			width: 20px;
			padding: 17px;
			background: $light-blue;
			transition: .3s;
			border-radius: 100%;
    }

    .label{
    	@include caption($white);
    	background: transparent;
    }

    &:hover{
    	img{
    		background: $medium-blue;
				transition: .3s;
			}
    }

	}
	button.load-more:disabled {
	  background: transparent;
	  cursor: not-allowed;
	  color: $white;
	}

}







